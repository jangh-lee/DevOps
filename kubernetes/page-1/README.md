# 용어정리

1. pod

파드는 쿠버네티스에서 운용되는 컨테이너 오브젝트로 가장 작은 단위이다.

특징으로 IP 주소를 가지며 하나 이상의 컨테이너를 소유한다.

파드 하나는 각각의 분리된 환경으로 존재하며, 네임스페이스에 따라 분류된다.

따라서 다른 네임스페이스라면 같은 이름의 파드도 존재할 수 있다.



또한 로컬호스트localhost로 통신이 가능하고 스토리지(볼륨)을 공유할 수 있어, 사이드카 패턴으로 많이 쓰인다.

* 메인 처리를 실행하는 컨테이너가 출력한 로그를 다른 컨테이너가 읽어 로그 수집이나 메트릭 수집을 한다.
* 메인 처리를 실행하는 컨테이너가 외부 시스템에 접속할 경우 다른 컨테이너가 프록시로 되어 목적지를 할당하거나 요청이 제대로 처리되지 않았을 때 재시도 수행 (파드 외부와 통신 구조 사이 프록시 배치되어 통신 보조 역할을 하는 경우 Ambassador 패턴이라고 한다)



\-책 쿠버네티스 실전 프로젝트 147페이지



nodeSelector : 파드가 등장하는 노드를 선택합니다.



drain / uncordon

해당 노드가 불능 혹은 업데이트 등을 위해서 잠시 중단하려면 drain을 실행합니다.

drain시 해당 노드의 모든 파드가 재배치(reschedule) 됩니다.

하지만 노드 전용 데몬 파드들은 옮겨지지 않도록 ignore-daemonset을 옵션을 줍니다.

uncordon을 통해서 drain 설정을 풀 수 있습니다.



* 초기화 컨테이너

메인 컨테이너가 실행되기 전 초기화 컨테이너를 실행하도록 한다. 메인 컨테이너 동작을 위해 초기화 처리하는 것이 목적으로 초기화 컨테이너는 여러 개 설정이 가능하다. 초기화 컨테이너에 대한 처리는 메인 컨테이너 안에 포함시킬 수 있다. 하지만 초기화 컨테이너로 분리해 처리하면 장점은 다음과 같다.



* 애플리케이션 자체에 필요 없는 도구를 사용해 초기화 처리 가능
* 메인 컨테이너의 보안성을 낮추는 도구를 초기화 컨테이너에 분리시키면 안전하게 초기화 처리 가능
* 초기화 처리와 애플리케이션을 서로 독립시켜 빌드, 배포 가능
* 초기화 컨테이너에서는 참조할 수 있지만 메인 컨테이너에서는 참조할 수 없는 시크릿을 설정하면 초기화 처리에만 필요하고 애플리케이션 처리에는 필요 없는 비밀정보를 메인 컨테이너에서 제외 가능
* 초기화 컨테이너가 모두 종료될 때 까지 메인 컨테이너가 시작되지 않으므로, 메인 컨테이너를 생성시키는 어떤 조건을 설정하고 그 조건이 성립될 때 까지 메인 컨테이너 생성 차단 가능

